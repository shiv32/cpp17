A real-world example of template usage in C++